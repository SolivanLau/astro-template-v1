---
import type { ImageMetadata } from "astro";
import { Picture } from "astro:assets";

/**
 * A custom Header component. Providing a background image on the right side.
 * @prop {string} title - the main title for the header
 * @prop {string} [subtitle] - the subtitle for the header
 * @prop {ImageMetadata} [backgroundImgPath] - the image data for the background image
 * @prop {"div" | "section"} [tag] - the type of element to use for the header. Otherwise, defaults to use a <header>
 */

interface Props {
    title: string;
    subtitle?: string;
    backgroundImgPath?: ImageMetadata;
    tagName?: "div" | "section";
    class?: string;
    [key: string]: any;
}
const { title, subtitle, backgroundImgPath, tagName, class: className } = Astro.props;

const Tag = tagName ? tagName : "header";
---

<Tag
    class:list={[
        backgroundImgPath && "background-image__parent",
        "background",
        "section__padding--lg",
        className,
    ]}
>
    <div class="wrapper header">
        <div class="title">
            <h1 class="title-font--display">{title}</h1>
            {subtitle && <p>{subtitle}</p>}
        </div>
    </div>
    {
        backgroundImgPath && (
            <Picture
                class="background-image"
                src={backgroundImgPath}
                alt="Toronto Wind Collective Ensemble"
                widths={[1920, 768]}
                formats={["webp", "jpg"]}
            />
        )
    }
</Tag>

<style lang="scss">
    @use "@styles/partials/abstracts/mixins" as *;

    // full background
    .background {
        background: var(--clr-brand-secondary);
    }
    // Background Image
    .background-image__parent {
        background: linear-gradient(-85.41deg, rgba(66, 58, 112, 17%) 0%, #695c7c 58%);
    }

    .background-image {
        translate: 30%;
    }

    // LAYOUT
    .header {
        color: var(--clr-white);
        display: grid;
        align-items: center;
        gap: var(--spc-med);
    }

    @include responsive-style(mobile) {
        .background-image__parent {
            background: linear-gradient(281deg, rgba(66, 58, 112, 17%) 0%, #695c7c 50%);
        }
        .background-image {
            translate: 20%;
        }
    }
</style>
